---
import { getPathNameWithoutLocale } from "utils/url";

type NavLink = {
  href: string;
  label: string;
};

const LINKS: NavLink[] = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/projects", label: "Projects" },
  { href: "/blog", label: "Blog" },
  // { href: "/experience", label: "Experience" },
];

// omit the locale prefix if exists
const pathname = getPathNameWithoutLocale(Astro.request.url);
---

<header class='sticky top-0 z-50 transition-shadow'>
  <div class='h-1 bg-gradient-to-r from-primary-200 via-primary-300 to-primary-500' />
    <div class='bg-white transition-colors'>
      <nav class='layout flex items-center justify-between py-4'>
        <a href='/'>
          <picture>
            <img
              src='/images/logo.svg'
              alt='bagusmerta.com logo'
              width='122'
              height='122'
            />
          </picture>
        </a>
        <ul class='flex items-center justify-between space-x-3 text-xs md:space-x-4 md:text-base'>
          {
            LINKS.map(({ href, label }) => (
              <li>
                <a href={href}>
                  <span
                  class:list={[
                    'animated-underline custom-link inline-flex items-center font-medium',
                    'focus:outline-none focus-visible:ring focus-visible:ring-primary-300',
                    {'!bg-primary-300/50': href.toLowerCase() === pathname.toLowerCase()}
                  ]}
                  >
                    {label}
                  </span>
                </a>
              </li>
            ))
          }
        </ul>
      </nav>
    </div>
  </div>
</header>
