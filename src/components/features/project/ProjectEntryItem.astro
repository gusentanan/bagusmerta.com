---
import Card from "@components/ui/Card.astro";
import type { ProjectEntry } from "utils/content";
import { Image } from "astro:assets";
import { getProjectPathName } from "utils/url";
import TechIcons from "@components/ui/TechIcons.astro";

export type Props = ProjectEntry;

const props = Astro.props;

---

<Card>
  <a href={getProjectPathName(props)} class:list={[
    'flex h-full flex-col items-start rounded-lg p-2 focus:outline-none focus-visible:ring focus-visible:ring-primary-300 hover:shadow-lg',
  ]}>
    <h4 class="text-2xl"> {props.data.title}</h4>
    <p class='my-4 text-sm text-gray-300'>
      {props.data.description}
    </p>
    <TechIcons {...props}/>
    <div class="relative mt-4">
      <div class="absolute inset-0 bg-gray-800/20 rounded-sm blur-sm"></div>
      <Image 
        src={props.data.image}
        decoding='async'
        loading='lazy'
        alt='project image'
        class="relative h-full w-full rounded-sm opacity-0 transition-opacity duration-300"
        onload="this.style.opacity = 1"
      />
    </div> 
  </a>
</Card>


