---
import type { BookmarkEntry } from 'utils/content';

export type Props = BookmarkEntry;
const props = Astro.props;
const url = new URL(props.data.link);
const faviconUrl = `https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=${url.origin}&size=32`;
---


<li class:list={[
    'p-2 w-full rounded-lg border border-gray-900',
    'bg-gradient-to-br from-[var(--card)]',
    'scale-500 hover:scale-[1.02] active:scale-[0.97] motion-safe:transform-gpu',
    'transition duration-500',
    'motion-reduce:hover:scale-500',
    'animate-shadow',
    'hover:border-[var(--card-hover-border)] hover:shadow-[0_0_12px_var(--card-hover)]',
]}>
  <a href={(props.data.link)} class:list={[
      'flex w-full flex-row items-center justify-between rounded-md p-2 focus:outline-none focus-visible:ring focus-visible:ring-primary-300',
      'cursor-newtab'
  ]} target="_blank">
    <div class="flex flex-col mr-8">
      <h4>{props.data.title}</h4>
      <h5 class='text-gray-500 line-clamp-3'>{props.data.description}</h5>
    </div>
    <div class="relative w-8 h-8 flex-shrink-0">
      <div class="absolute inset-0 bg-gray-800/20 rounded-sm blur-sm"></div>
      <img
        src={faviconUrl}
        alt={`Favicon for ${props.data.title}`}
        class="relative h-full w-full rounded-sm opacity-0 transition-opacity duration-300"
        onload="this.style.opacity = 1"
        loading="lazy"
      />
    </div>
  </a>
</li>
